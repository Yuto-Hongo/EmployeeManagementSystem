2025-11-07 00:06:55 [DBG] Connection id "0HNGT58SUNM66" accepted.
2025-11-07 00:06:55 [DBG] Connection id "0HNGT58SUNM66" started.
2025-11-07 00:06:55 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5211/api/admin/search?name=&workplace=&joinDateFrom=&joinDateTo=&mode=and&page=1&pageSize=10&sortBy=id&sortOrder=asc - null null
2025-11-07 00:06:55 [DBG] 1 candidate(s) found for the request path '/api/admin/search'
2025-11-07 00:06:55 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-07 00:06:55 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-07 00:06:55 [INF] CORS policy execution successful.
2025-11-07 00:06:55 [DBG] The request is a preflight request.
2025-11-07 00:06:55 [DBG] Connection id "0HNGT58SUNM66" completed keep alive response.
2025-11-07 00:06:55 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5211/api/admin/search?name=&workplace=&joinDateFrom=&joinDateTo=&mode=and&page=1&pageSize=10&sortBy=id&sortOrder=asc - 204 null null 5.6328ms
2025-11-07 00:06:55 [INF] Request starting HTTP/1.1 GET http://localhost:5211/api/admin/search?name=&workplace=&joinDateFrom=&joinDateTo=&mode=and&page=1&pageSize=10&sortBy=id&sortOrder=asc - null null
2025-11-07 00:06:55 [DBG] 2 candidate(s) found for the request path '/api/admin/search'
2025-11-07 00:06:55 [DBG] Endpoint 'AdminController.SearchEmployee (EmployeeManagement.Api)' with route pattern 'api/Admin/search' is valid for the request path '/api/admin/search'
2025-11-07 00:06:55 [DBG] Endpoint 'AdminController.GetEmployeeById (EmployeeManagement.Api)' with route pattern 'api/Admin/{id}' is valid for the request path '/api/admin/search'
2025-11-07 00:06:55 [DBG] Request matched endpoint 'AdminController.SearchEmployee (EmployeeManagement.Api)'
2025-11-07 00:06:55 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-07 00:06:55 [INF] CORS policy execution successful.
2025-11-07 00:06:55 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/06 14:55:05', Current time (UTC): '2025/11/06 15:06:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-07 00:06:55 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025/11/06 14:55:05', Current time (UTC): '2025/11/06 15:06:55'.
2025-11-07 00:06:55 [DBG] Policy authentication schemes  did not succeed
2025-11-07 00:06:55 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-11-07 00:06:55 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-07 00:06:55 [DBG] Connection id "0HNGT58SUNM66" completed keep alive response.
2025-11-07 00:06:55 [INF] Request finished HTTP/1.1 GET http://localhost:5211/api/admin/search?name=&workplace=&joinDateFrom=&joinDateTo=&mode=and&page=1&pageSize=10&sortBy=id&sortOrder=asc - 401 0 null 10.6554ms
2025-11-07 00:09:07 [DBG] Connection id "0HNGT58SUNM66" disconnecting.
2025-11-07 00:09:07 [DBG] Connection id "0HNGT58SUNM66" stopped.
2025-11-07 00:09:07 [DBG] Connection id "0HNGT58SUNM66" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-07 00:13:22 [DBG] Connection id "0HNGT58SUNM67" accepted.
2025-11-07 00:13:22 [DBG] Connection id "0HNGT58SUNM67" started.
2025-11-07 00:13:22 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5211/api/auth/login - null null
2025-11-07 00:13:22 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-11-07 00:13:22 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-07 00:13:22 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-07 00:13:22 [INF] CORS policy execution successful.
2025-11-07 00:13:22 [DBG] The request is a preflight request.
2025-11-07 00:13:22 [DBG] Connection id "0HNGT58SUNM67" completed keep alive response.
2025-11-07 00:13:22 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5211/api/auth/login - 204 null null 11.8867ms
2025-11-07 00:13:22 [INF] Request starting HTTP/1.1 POST http://localhost:5211/api/auth/login - application/json 62
2025-11-07 00:13:22 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-11-07 00:13:22 [DBG] Endpoint 'Backend.Controllers.AuthController.Login (EmployeeManagement.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2025-11-07 00:13:22 [DBG] Request matched endpoint 'Backend.Controllers.AuthController.Login (EmployeeManagement.Api)'
2025-11-07 00:13:22 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-07 00:13:22 [INF] CORS policy execution successful.
2025-11-07 00:13:22 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-07 00:13:22 [INF] Executing endpoint 'Backend.Controllers.AuthController.Login (EmployeeManagement.Api)'
2025-11-07 00:13:22 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Backend.DTOs.LoginRequest) on controller Backend.Controllers.AuthController (EmployeeManagement.Api).
2025-11-07 00:13:22 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-07 00:13:22 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-07 00:13:22 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-07 00:13:22 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-07 00:13:22 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-07 00:13:22 [DBG] Executing controller factory for controller Backend.Controllers.AuthController (EmployeeManagement.Api)
2025-11-07 00:13:22 [DBG] Executed controller factory for controller Backend.Controllers.AuthController (EmployeeManagement.Api)
2025-11-07 00:13:22 [DBG] Attempting to bind parameter 'request' of type 'Backend.DTOs.LoginRequest' ...
2025-11-07 00:13:22 [DBG] Attempting to bind parameter 'request' of type 'Backend.DTOs.LoginRequest' using the name '' in request data ...
2025-11-07 00:13:22 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-11-07 00:13:22 [DBG] Connection id "0HNGT58SUNM67", Request id "0HNGT58SUNM67:00000002": started reading request body.
2025-11-07 00:13:22 [DBG] Connection id "0HNGT58SUNM67", Request id "0HNGT58SUNM67:00000002": done reading request body.
2025-11-07 00:13:22 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.DTOs.LoginRequest'
2025-11-07 00:13:22 [DBG] Done attempting to bind parameter 'request' of type 'Backend.DTOs.LoginRequest'.
2025-11-07 00:13:22 [DBG] Done attempting to bind parameter 'request' of type 'Backend.DTOs.LoginRequest'.
2025-11-07 00:13:22 [DBG] Attempting to validate the bound parameter 'request' of type 'Backend.DTOs.LoginRequest' ...
2025-11-07 00:13:22 [DBG] Done attempting to validate the bound parameter 'request' of type 'Backend.DTOs.LoginRequest'.
2025-11-07 00:13:22 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.7' with options: None
2025-11-07 00:13:22 [DBG] Creating DbConnection.
2025-11-07 00:13:22 [DBG] Created DbConnection. (0ms).
2025-11-07 00:13:22 [DBG] Opening connection to database 'main' on server 'app.db'.
2025-11-07 00:13:22 [DBG] Opened connection to database 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 00:13:22 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-07 00:13:22 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-07 00:13:22 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-07 00:13:22 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."Role", "u"."Salt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__email_0
LIMIT 1
2025-11-07 00:13:22 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."PasswordHash", "u"."Role", "u"."Salt"
FROM "Users" AS "u"
WHERE "u"."Email" = @__email_0
LIMIT 1
2025-11-07 00:13:22 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-07 00:13:22 [DBG] Closing data reader to 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 00:13:22 [DBG] A data reader for 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db' is being disposed after spending 3ms reading results.
2025-11-07 00:13:22 [DBG] Closing connection to database 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 00:13:22 [DBG] Closed connection to database 'main' on server 'app.db' (1ms).
2025-11-07 00:13:22 [INF] ログイン処理成功 : UserId : 2
2025-11-07 00:13:22 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-07 00:13:22 [DBG] No information found on request to perform content negotiation.
2025-11-07 00:13:22 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-07 00:13:22 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-07 00:13:22 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-07 00:13:22 [INF] Executing OkObjectResult, writing value of type 'Backend.DTOs.LoginResponse'.
2025-11-07 00:13:22 [INF] Executed action Backend.Controllers.AuthController.Login (EmployeeManagement.Api) in 38.6862ms
2025-11-07 00:13:22 [INF] Executed endpoint 'Backend.Controllers.AuthController.Login (EmployeeManagement.Api)'
2025-11-07 00:13:22 [DBG] Connection id "0HNGT58SUNM67" completed keep alive response.
2025-11-07 00:13:22 [DBG] 'AppDbContext' disposed.
2025-11-07 00:13:22 [DBG] Disposing connection to database 'main' on server 'app.db'.
2025-11-07 00:13:22 [DBG] Disposed connection to database 'main' on server 'app.db' (0ms).
2025-11-07 00:13:22 [INF] Request finished HTTP/1.1 POST http://localhost:5211/api/auth/login - 200 null application/json; charset=utf-8 59.389ms
2025-11-07 00:13:22 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5211/api/general/info - null null
2025-11-07 00:13:22 [DBG] 1 candidate(s) found for the request path '/api/general/info'
2025-11-07 00:13:22 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-11-07 00:13:22 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-07 00:13:22 [INF] CORS policy execution successful.
2025-11-07 00:13:22 [DBG] The request is a preflight request.
2025-11-07 00:13:22 [DBG] Connection id "0HNGT58SUNM67" completed keep alive response.
2025-11-07 00:13:22 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5211/api/general/info - 204 null null 5.5423ms
2025-11-07 00:13:22 [INF] Request starting HTTP/1.1 GET http://localhost:5211/api/general/info - null null
2025-11-07 00:13:22 [DBG] 1 candidate(s) found for the request path '/api/general/info'
2025-11-07 00:13:22 [DBG] Endpoint 'Backend.Controllers.GeneralController.GetMyEmployeeInfo (EmployeeManagement.Api)' with route pattern 'api/General/info' is valid for the request path '/api/general/info'
2025-11-07 00:13:22 [DBG] Request matched endpoint 'Backend.Controllers.GeneralController.GetMyEmployeeInfo (EmployeeManagement.Api)'
2025-11-07 00:13:22 [DBG] The request has an origin header: 'http://localhost:5173'.
2025-11-07 00:13:22 [INF] CORS policy execution successful.
2025-11-07 00:13:22 [DBG] Successfully validated the token.
2025-11-07 00:13:22 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-11-07 00:13:22 [DBG] Authorization was successful.
2025-11-07 00:13:22 [INF] Executing endpoint 'Backend.Controllers.GeneralController.GetMyEmployeeInfo (EmployeeManagement.Api)'
2025-11-07 00:13:22 [INF] Route matched with {action = "GetMyEmployeeInfo", controller = "General"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyEmployeeInfo() on controller Backend.Controllers.GeneralController (EmployeeManagement.Api).
2025-11-07 00:13:22 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-07 00:13:22 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-11-07 00:13:22 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-11-07 00:13:22 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-11-07 00:13:22 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-11-07 00:13:22 [DBG] Executing controller factory for controller Backend.Controllers.GeneralController (EmployeeManagement.Api)
2025-11-07 00:13:22 [DBG] Executed controller factory for controller Backend.Controllers.GeneralController (EmployeeManagement.Api)
2025-11-07 00:13:22 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.7' with options: None
2025-11-07 00:13:22 [DBG] Creating DbConnection.
2025-11-07 00:13:22 [DBG] Created DbConnection. (0ms).
2025-11-07 00:13:22 [DBG] Opening connection to database 'main' on server 'app.db'.
2025-11-07 00:13:22 [DBG] Opened connection to database 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 00:13:22 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-07 00:13:22 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-07 00:13:22 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-07 00:13:22 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."Address", "e"."CurrentWorkplace", "e"."DateOfBirth", "e"."FullName", "e"."Gender", "e"."JoinDate", "e"."UserId", "e"."VacationRemaining", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."Role", "u"."Salt"
FROM "Employees" AS "e"
INNER JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "e"."Id" = @__userId_0
LIMIT 1
2025-11-07 00:13:22 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."Address", "e"."CurrentWorkplace", "e"."DateOfBirth", "e"."FullName", "e"."Gender", "e"."JoinDate", "e"."UserId", "e"."VacationRemaining", "u"."Id", "u"."Email", "u"."PasswordHash", "u"."Role", "u"."Salt"
FROM "Employees" AS "e"
INNER JOIN "Users" AS "u" ON "e"."UserId" = "u"."Id"
WHERE "e"."Id" = @__userId_0
LIMIT 1
2025-11-07 00:13:22 [DBG] Context 'AppDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-07 00:13:22 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-07 00:13:22 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-11-07 00:13:22 [DBG] Closing data reader to 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 00:13:22 [DBG] A data reader for 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db' is being disposed after spending 2ms reading results.
2025-11-07 00:13:22 [DBG] Closing connection to database 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 00:13:22 [DBG] Closed connection to database 'main' on server 'app.db' (0ms).
2025-11-07 00:13:22 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-11-07 00:13:22 [DBG] No information found on request to perform content negotiation.
2025-11-07 00:13:22 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-07 00:13:22 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-07 00:13:22 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-07 00:13:22 [INF] Executing OkObjectResult, writing value of type 'Backend.Models.Employee'.
2025-11-07 00:13:22 [INF] Executed action Backend.Controllers.GeneralController.GetMyEmployeeInfo (EmployeeManagement.Api) in 18.786ms
2025-11-07 00:13:22 [INF] Executed endpoint 'Backend.Controllers.GeneralController.GetMyEmployeeInfo (EmployeeManagement.Api)'
2025-11-07 00:13:22 [DBG] Connection id "0HNGT58SUNM67" completed keep alive response.
2025-11-07 00:13:22 [DBG] 'AppDbContext' disposed.
2025-11-07 00:13:22 [DBG] Disposing connection to database 'main' on server 'app.db'.
2025-11-07 00:13:22 [DBG] Disposed connection to database 'main' on server 'app.db' (1ms).
2025-11-07 00:13:22 [INF] Request finished HTTP/1.1 GET http://localhost:5211/api/general/info - 200 null application/json; charset=utf-8 34.5929ms
2025-11-07 00:15:33 [DBG] Connection id "0HNGT58SUNM67" disconnecting.
2025-11-07 00:15:33 [DBG] Connection id "0HNGT58SUNM67" stopped.
2025-11-07 00:15:33 [DBG] Connection id "0HNGT58SUNM67" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-07 00:29:54 [INF] Application is shutting down...
2025-11-07 00:29:54 [DBG] Hosting stopping
2025-11-07 00:29:54 [DBG] Hosting stopped
2025-11-07 22:21:06 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-07 22:21:06 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.7' with options: None
2025-11-07 22:21:07 [DBG] 'AppDbContext' disposed.
2025-11-07 22:21:16 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-07 22:21:17 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.7' with options: None
2025-11-07 22:21:17 [DBG] Creating DbConnection.
2025-11-07 22:21:17 [DBG] Created DbConnection. (9ms).
2025-11-07 22:21:17 [DBG] Migrating using database 'main' on server 'app.db'.
2025-11-07 22:21:17 [DBG] Creating DbConnection.
2025-11-07 22:21:17 [DBG] Created DbConnection. (2ms).
2025-11-07 22:21:17 [DBG] Opening connection to database 'main' on server 'app.db'.
2025-11-07 22:21:17 [DBG] Opened connection to database 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 22:21:17 [DBG] Disposing connection to database 'main' on server 'app.db'.
2025-11-07 22:21:17 [DBG] Disposed connection to database 'main' on server 'app.db' (1ms).
2025-11-07 22:21:17 [DBG] Opening connection to database 'main' on server 'app.db'.
2025-11-07 22:21:17 [DBG] Opened connection to database 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 22:21:17 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-07 22:21:17 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-07 22:21:17 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-11-07 22:21:17 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-11-07 22:21:17 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-07 22:21:17 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-07 22:21:17 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-07 22:21:17 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-07 22:21:17 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-11-07 22:21:17 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-11-07 22:21:17 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-11-07 22:21:17 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-07 22:21:17 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-07 22:21:17 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-11-07 22:21:17 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-07 13:21:17.4760465+00:00');
SELECT changes();
2025-11-07 22:21:17 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-07 13:21:17.4760465+00:00');
SELECT changes();
2025-11-07 22:21:17 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-07 22:21:17 [DBG] Began transaction with isolation level 'Serializable'.
2025-11-07 22:21:17 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-07 22:21:17 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-07 22:21:17 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-11-07 22:21:17 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-07 22:21:17 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-07 22:21:17 [DBG] Committing transaction.
2025-11-07 22:21:17 [DBG] Committed transaction.
2025-11-07 22:21:17 [DBG] Disposing transaction.
2025-11-07 22:21:17 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-11-07 22:21:17 [DBG] Began transaction with isolation level 'Serializable'.
2025-11-07 22:21:17 [DBG] Creating DbConnection.
2025-11-07 22:21:17 [DBG] Created DbConnection. (0ms).
2025-11-07 22:21:17 [DBG] Opening connection to database 'main' on server 'app.db'.
2025-11-07 22:21:17 [DBG] Opened connection to database 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 22:21:17 [DBG] Disposing connection to database 'main' on server 'app.db'.
2025-11-07 22:21:17 [DBG] Disposed connection to database 'main' on server 'app.db' (0ms).
2025-11-07 22:21:17 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-07 22:21:17 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-07 22:21:17 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-11-07 22:21:17 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-07 22:21:17 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-07 22:21:17 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-11-07 22:21:17 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-11-07 22:21:17 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-11-07 22:21:17 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-07 22:21:17 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-07 22:21:17 [DBG] Closing data reader to 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 22:21:17 [DBG] A data reader for 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db' is being disposed after spending 1ms reading results.
2025-11-07 22:21:17 [INF] Applying migration '20250731061029_InitialCreate'.
2025-11-07 22:21:17 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-11-07 22:21:17 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-11-07 22:21:17 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-11-07 22:21:17 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Employees" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Employees" PRIMARY KEY AUTOINCREMENT,
    "FullName" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "JoinDate" TEXT NOT NULL,
    "VacationRemaining" INTEGER NOT NULL,
    "CurrentWorkplace" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL
);
2025-11-07 22:21:17 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Employees" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Employees" PRIMARY KEY AUTOINCREMENT,
    "FullName" TEXT NOT NULL,
    "DateOfBirth" TEXT NOT NULL,
    "Gender" INTEGER NOT NULL,
    "Address" TEXT NOT NULL,
    "JoinDate" TEXT NOT NULL,
    "VacationRemaining" INTEGER NOT NULL,
    "CurrentWorkplace" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL
);
2025-11-07 22:21:17 [DBG] Disposing transaction.
2025-11-07 22:21:17 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-11-07 22:21:17 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-11-07 22:21:17 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-11-07 22:21:17 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-07 22:21:17 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-07 22:21:17 [DBG] Closing connection to database 'main' on server 'C:\Users\xmilk\portfolio\employee-management-app\backend\app.db'.
2025-11-07 22:21:17 [DBG] Closed connection to database 'main' on server 'app.db' (2ms).
2025-11-07 22:21:17 [DBG] 'AppDbContext' disposed.
2025-11-07 22:21:17 [DBG] Disposing connection to database 'main' on server 'app.db'.
2025-11-07 22:21:17 [DBG] Disposed connection to database 'main' on server 'app.db' (0ms).
2025-11-07 22:23:09 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-11-07 22:23:09 [DBG] Entity Framework Core 9.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.7' with options: None
2025-11-07 22:23:09 [DBG] Creating DbConnection.
2025-11-07 22:23:09 [DBG] Created DbConnection. (6ms).
2025-11-07 22:23:09 [DBG] 'AppDbContext' disposed.
2025-11-07 22:23:09 [DBG] Disposing connection to database 'main' on server 'app.db'.
2025-11-07 22:23:09 [DBG] Disposed connection to database 'main' on server 'app.db' (3ms).
